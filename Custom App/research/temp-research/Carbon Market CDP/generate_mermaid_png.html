<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Mermaid to PNG Generator</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        #mermaid-container { background: white; padding: 20px; border: 1px solid #ccc; }
    </style>
</head>
<body>
    <h1>Mermaid Diagram Generator</h1>
    <div id="mermaid-container">
        <div class="mermaid">
graph TD
    %% Demand Side - Domestic/Regional
    subgraph DR["üè† Domestic / Regional"]
        NDC["NDC Directly"]
        CT["Carbon Tax"]
        CAPS["Cap & Trade"]
    end

    %% Demand Side - International
    subgraph INT["üåç International"]
        NZ["Net Zero Corporate<br/>Commitments"]
        IO["Individual-level<br/>Offsetting"]
        COR["CORSIA(ICAO)"]
    end

    %% Central Processing
    CA["üìã Corresponding<br/>adjusted"]
    NCA["üìã Non-corresponding<br/>adjusted"]

    %% Supply Side
    subgraph SUP["üì¶ Supply"]
        CDM["CDM"]
        IIAC["Independent International<br/>Baseline-and-credit"]
        DNC["(non compliance)<br/>Domestic Baseline-and-credit"]
        DC["(compliance)<br/>Domestic Baseline-and-credit"]
        ITMO["ITMO (PA6.2)"]
        PACM["PACM (PA6.4)"]
        ART5["Article 5"]
    end

    %% Methodology Side
    subgraph METH["üî¨ Methodology"]
        RED["Reduction"]
        subgraph APPROACHES["Approaches"]
            NB["Nature<br/>based"]
            TB["Technology<br/>based"]
        end
        REM["Removal"]
        REDD["REDD+"]
    end

    %% Connections from Domestic/Regional to CA
    NDC --> CA
    CT --> CA
    CAPS --> CA

    %% Connections from International to NCA
    NZ --> NCA
    IO --> NCA
    COR --> NCA

    %% Connections from CA to Supply
    CA --> CDM
    CA --> IIAC
    CA --> DC
    CA --> ITMO
    CA --> PACM

    %% Connections from NCA to Supply
    NCA --> CDM
    NCA --> IIAC
    NCA --> DNC
    NCA --> ART5

    %% Connection from Supply to Methodology
    SUP -.-> METH

    %% Styling
    classDef demandBox fill:#f8f9fa,stroke:#e74c3c,stroke-width:2px,stroke-dasharray:5 5
    classDef centralBox fill:#74b9ff,stroke:#2C3E50,stroke-width:2px,color:#fff
    classDef supplyBox fill:#ecf0f1,stroke:#2C3E50,stroke-width:1px
    classDef methodBox fill:#ecf0f1,stroke:#2C3E50,stroke-width:1px

    class DR,INT demandBox
    class CA,NCA centralBox
    class CDM,IIAC,DNC,DC,ITMO,PACM,ART5 supplyBox
    class RED,NB,TB,REM,REDD methodBox
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#74b9ff',
                primaryTextColor: '#2C3E50',
                primaryBorderColor: '#2C3E50',
                lineColor: '#2C3E50'
            }
        });

        // Instructions for converting to PNG
        setTimeout(() => {
            alert('To save as PNG:\n1. Right-click on the diagram\n2. Select "Save image as..."\n3. Save as "carbon-market-ecosystem.png"');
        }, 2000);
    </script>
</body>
</html>
